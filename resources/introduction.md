# Введение <!-- {docsify-ignore-all} -->

> Список терминов: [База данных (database)](/resources/glossary.md?id=База-данных-database), [Система управления базой данных (СУБД) (Database Management System, DBMS)](/resources/glossary.md?id=Система-управления-базой-данных-СУБД-database-management-system-dbms), [База данных NoSQL (NoSQL database)](/resources/glossary.md?id=База-данных-nosql-nosql-database), [Система управления реляционной базой данных (СУРДБ) (Relational Database Management System, RDBMS)](/resources/glossary.md?id=Система-управления-реляционной-базой-данных-СУРДБ-relational-database-management-system-rdbms),[Таблица (table)](/resources/glossary.md?id=Таблица-table)

## Что это все такое

- Заметки и рабочие примеры, которые преподаватели могут использовать для проведения урока
  - НЕ рассчитано на новичков без опыта работы с SQL
- Музыкальная аналогия
  - Это как аккорды и мелодия
  - Мы ожидаем, что преподаватели создадут аранжировку и/или будут импровизировать во время подачи материала

## Охват

- Целевая аудитория:
  - Рэйчел имеет степень магистра в области клеточной биологии и работает в исследовательской больнице, проводя клеточные анализы.
  - Она немного изучала R на курсе биостатистики и прошла урок Carpentries по Unix shell.
  - Рэйчел думает о карьере data scientist и хочет понять, как хранятся и управляются данные.
  - Её рабочий график непредсказуем и очень изменчив, поэтому ей нужно иметь возможность учиться понемногу.
- Предварительные требования:
  - базовые команды Unix: cd, ls,
  - базовый анализ табличных данных: фильтрация строк, агрегация в группах.

### Результаты обучения

1. Объяснить разницу между базой данных и системой управления базами данных
2. Писать SQL-запросы для выборки, фильтрации, сортировки, группировки и агрегации данных
3. Определять таблицы и выполнять вставку, обновление и удаление записей
4. Описывать различные типы объединений и писать запросы с их использованием для комбинирования данных
5. Использовать оконные функции для работы со смежными строками
6. Объяснять, что такое транзакции и писать запросы с откатом при нарушении ограничений
7. Объяснять, что такое триггеры и писать SQL для их создания
8. Манипулировать данными JSON с помощью SQL
9. Взаимодействовать с базой данных напрямую через Python, из Jupyter notebook и через ORM

## Настройка

- Загрузите последний релиз
- Распакуйте файл во временную директорию, чтобы создать:
  - ./db/*.db: базы данных [SQLite](https://sqlite.org/), используемые в примерах
  - ./src/*.*: SQL-запросы, Python-скрипты и другой исходный код
  - ./out/*.*: ожидаемый вывод для примеров
> Примеры для SQLite можно бесплатно использовать на [SQliz online](https://sqlize.online/sql/mysql57/5906719ecf8666e27c96637c14ba13c6/)

## Базовые концепции

• База данных - это коллекция данных, которую можно искать и извлекать
• Система управления базами данных (СУБД) - это программа, которая управляет определенным типом базы данных
• Каждая СУБД хранит данные по-своему:
- SQLite хранит каждую базу данных в одном файле
- PostgreSQL распределяет информацию по многим файлам для повышения производительности
• СУБД может быть библиотекой, встроенной в другие программы (SQLite), или сервером (PostgreSQL)
• Реляционная СУБД (РСУБД) хранит данные в таблицах и использует SQL для запросов
- К сожалению, у каждой РСУБД свой диалект SQL
• Существуют также NoSQL базы данных, как MongoDB, которые не используют таблицы

## Подключение к базе данных


 <img src="./assets/asset1.jpeg" alt="Описание" style="max-width:100%; height:auto;">


```sql
sqlite3 db/penguins.db
```

• Это не запрос: запускает интерактивную сессию с базой данных в db/penguins.db
• Альтернатива: предоставить один запрос в командной строке sqlite3 database "query"
• Или поместить запрос в файл и выполнить sqlite3 database < filename
• Примечание: база данных penguins содержит две таблицы:
- penguins содержит все данные Palmer Penguins
- little_penguins - это подмножество, используемое в первых запросах

## Благодарности

Этот учебник не был бы возможен без:
- Модуля sqlparse Энди Альбрехта
- "The Art of PostgreSQL" Димитрия Фонтена
- "The Essence of SQL" Давида Розенштейна (сейчас, к сожалению, не издается)

Я также хотел бы поблагодарить следующих людей за обнаружение проблем, предложения или внесение изменений:

Янина Беллини Сайбене, Филлип Клауд, Зои Дэниелс, Конор Флинн, Энди Голдберг, Джей Грейвс, Сэм Хеймс, Адам Хокс, Роберт Керн, Константинос Китсиос, Оливье Лерой, Кевин Маршалл, Рой Парди, Манос Питсидианакис, Даниэль Поссенриде, Адам Розиен, Томас Зандманн, Саймон Уиллисон